# Импорт библиотеки для построения графиков
import matplotlib.pyplot as plt

# Список выбранных стран для анализа
countries = ['Китай', 'Индия', 'США', 'Россия', 'Япония']

# Данные о населении в 2000 году (в миллионах человек)
pop_2000 = [1264, 1057, 282, 146, 127]

# Данные о населении в 2010 году (в миллионах человек)
pop_2010 = [1340, 1231, 309, 143, 128]

# Данные о населении в 2020 году (в миллионах человек)
pop_2020 = [1412, 1380, 331, 146, 126]

# Создание фигуры с тремя горизонтальными подграфиками размером 16x6 дюймов
fig, axes = plt.subplots(1, 3, figsize=(16, 6))

# Цветовая палитра для столбцов каждого года
colors = ['#FF6B6B', '#4ECDC4', '#45B7D1']

# Метки годов для заголовков графиков
years = ['2000', '2010', '2020']

# Список с данными о населении за все три года
population_data = [pop_2000, pop_2010, pop_2020]

# Цикл по всем трем графикам для их построения
for i, (ax, year, data, color) in enumerate(zip(axes, years, population_data, colors)):
    # Создание столбчатой диаграммы с настройками внешнего вида
    bars = ax.bar(countries, data, color=color, alpha=0.8, edgecolor='black', linewidth=0.5)
    # Установка заголовка для каждого графика
    ax.set_title(f'{year} год', fontsize=14, fontweight='bold', pad=20)
    # Подпись оси Y (количество населения)
    ax.set_ylabel('Население (млн человек)', fontsize=10)
    # Настройка меток оси X (поворот на 45 градусов)
    ax.tick_params(axis='x', rotation=45, labelsize=9)
    # Настройка меток оси Y (размер шрифта)
    ax.tick_params(axis='y', labelsize=9)
    # Добавление сетки на график (только горизонтальные линии)
    ax.grid(axis='y', alpha=0.3, linestyle='--')
    
    # Цикл для добавления числовых значений поверх каждого столбца
    for bar in bars:
        height = bar.get_height()  # Получение высоты столбца
        # Размещение текста с числовым значением над столбцом
        ax.text(bar.get_x() + bar.get_width()/2., height + 5,
                f'{height:.0f}', ha='center', va='bottom', fontsize=8)

# Главный заголовок для всей фигуры (над всеми графиками)
plt.suptitle('Динамика населения стран мира (2000-2020 гг.)', 
             fontsize=16, fontweight='bold', y=0.98)

# Автоматическая настройка отступов между элементами графика
plt.tight_layout()

# Ручная корректировка отступов (верхний отступ и расстояние между графиками)
plt.subplots_adjust(top=0.85, wspace=0.3)

# Цикл для установки фонового цвета всех графиков
for ax in axes:
    ax.set_facecolor('#f8f9fa')  # Светло-серый фон для графиков

# Отображение готовой фигуры с тремя диаграммами
plt.show()